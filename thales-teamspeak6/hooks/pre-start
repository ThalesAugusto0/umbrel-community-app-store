#!/bin/bash
set -e

# Create TeamSpeak directories
mkdir -p "${APP_DATA_DIR}/data/tsserver/logs"
mkdir -p "${APP_DATA_DIR}/data/tsserver/files"

# Set permissions for TeamSpeak to write (container may run as different user)
chmod -R 777 "${APP_DATA_DIR}/data/tsserver"

# Create web interface directory
mkdir -p "${APP_DATA_DIR}/web"

# Copy web interface
cp /app/web/index.html "${APP_DATA_DIR}/web/"

echo "TeamSpeak 6 initialized successfully"
